{% extends "layouts/base_layout.html" %}

{% block title %}Solicitud de Producción - Cookie King{% endblock %}

{% block content %}
<div
    class="min-h-[70vh] flex flex-col items-center justify-center bg-cream-50 rounded-lg border border-cookie-200 shadow-md p-8 text-center w-full">
    <!-- Título -->
    <h2 class="text-3xl font-bold text-chocolate-800 mb-6">Solicitud de Producción</h2>

    <!-- Tabla de Galletas con Existencias Bajas -->
    <div class="w-full max-w-4xl">
        <table class="w-full bg-white border border-cookie-200 rounded-lg shadow-md">
            <thead class="bg-cookie-600 text-white">
                <tr>
                    <th class="py-3 px-4">Nombre</th>
                    <th class="py-3 px-4">Existencias</th>
                    <th class="py-3 px-4">Acción</th>
                </tr>
            </thead>
            <tbody>
                {% for galleta in galletas %}
                {% if galleta.existencias < 101 %} <tr class="border-b border-cookie-300">
                    <td class="py-3 px-4">{{ galleta.nombreGalleta }}</td>
                    <td class="py-3 px-4 {% if galleta.existencias < 101 %}text-red-600 font-bold{% endif %}">
                        {{ galleta.existencias }}
                    </td>
                    <td class="py-3 px-4">
                        <a href="{{ url_for('produccion.produccion_galletas', galleta_id=galleta.idGalleta) }}"
                            class="bg-cookie-600 text-white px-4 py-2 rounded-lg hover:bg-cookie-700 transition">
                            Producir
                        </a>
                    </td>
                    </tr>
                    {% endif %}
                    {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}